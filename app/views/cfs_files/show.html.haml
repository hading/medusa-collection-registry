= render layout: 'layout_single' do
  %h1 File information

  .row
    #cfs-file-metadata.col-sm-4
      = show_value 'bit-level', 'Storage level'
      = show_value @file.md5_sum, 'MD5'
      = show_value @file.uuid, 'UUID'
      - if @file.fits_result.present?
        %p
          %strong
            FITS:
          = small_view_button(fits_cfs_file_path(@file, format: :xml))
      - if @file_group
        %p
          %strong Belongs to:
          #{link_to(@file_group.title, @file_group)}
      - if @file.size
        = show_value @file.size.to_formatted_s(:human_size, precision: 3), 'File size'
      = show_value @file.content_type_name, 'Mimetype'
      - if @file.red_flags.present?
        %div
          Red flags:
          %ul
            - @file.red_flags.each do |red_flag|
              %li= red_flag.message
    .col-sm-8
      = render @previewer.view_partial

  - if @file_format_test.present?
    %hr
    .row
      #file-format-test.col-sm-12
        %h4 File Format Test
        = show_field @file_format_test, :tester_email
        = show_field @file_format_test, :date
        = show_value @file_format_test.file_format_profile_name, 'File Rendering Profile'
        = show_value @file_format_test.pass_label, 'Status'
        = show_field @file_format_test, :notes
        - if @file_format_test.file_format_test_reasons.present?
          %div
            %strong File Format Test Failure Reasons
            %ul
              - @file_format_test.file_format_test_reasons.each do |reason|
                %li= reason.label

