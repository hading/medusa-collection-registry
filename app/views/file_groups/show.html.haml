.pull-right
  = link_to 'View events', events_file_group_path(@file_group), :class => 'btn'
  = link_to 'Create All FITS XML', create_all_fits_file_group_path(@file_group), :method => 'post', :class => 'btn'
  = link_to 'Edit', edit_file_group_path(@file_group), :class => 'btn'
  = link_to 'Delete', @file_group, :method => :delete, :data => {:confirm => generic_confirm_message}, :class => 'btn btn-danger'

.page_header
  %h1 File Group
  %p.lead Collection: #{link_to @collection.title, @collection}
  - if @file_group.root_directory
    %p= link_to 'Bit root directory', directory_path(@file_group.root_directory)

.row
  .span4
    .well
      = show_field @file_group, :name
      = show_field @file_group, :storage_level
      = show_value((link_to(@file_group.producer.title, @file_group.producer) if @file_group.producer), 'Production Unit')
      = show_field @file_group, :file_type_name, 'File type'
      = show_field @file_group, :external_file_location
      = show_field @file_group, :staged_file_location
      = show_field @file_group, :file_format
      = show_value "#{@file_group.total_file_size} GB", 'Total file size:'
      = show_field @file_group, :total_files
      = show_field @file_group, :summary
      = show_field @file_group, :provenance_note
      - if @file_group.related_file_groups.present?
        %p
          %strong Related File Groups
        %ul
          - @file_group.related_file_groups.each do |related_file_group|
            %li
              #{link_to(related_file_group.name, related_file_group)} - #{@file_group.relation_note(related_file_group)}
      %h3 Rights Declaration
      = render :partial => 'rights_declarations/show', :locals => {:rights_declaration => @file_group.rights_declaration}

  .span8

    %p.lead Collection file package summary
    %p= @file_group.collection.file_package_summary_html

    = render 'assessments_table'